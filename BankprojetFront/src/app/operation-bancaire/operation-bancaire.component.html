<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Système de Gestion de Factures - Template</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Vos styles ici */
    </style>
</head>


    <app-sidebar></app-sidebar>
    <!-- Navigation Component Template -->

    <!-- Main Container -->
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 col-lg-2 p-0">
                <!-- Contenu de la sidebar -->
            </div>

            <!-- Main Content -->
            <div class="col-md-9 col-lg-10 content-area" >                <!-- Page Header -->
                <div class="page-header" style="background-color:#2976b0;  padding: 20px; margin-bottom: 20px; border-radius: 5px;margin-top:-580px;width:1225px;margin-left: -20px;">
                    <div class="d-flex justify-content-between align-items-center flex-wrap">
                        <div class="mb-3 mb-md-0">
                            <h2 class="fw-bold custom mb-1" style="color: white;">
                                <i class="fas fa-money-bill-wave me-2"></i>
                                Gestion des Opérations Bancaires :{{nomBanque}}
                            </h2>
                            <p class="text mb-0" style="color: white;">Gérez tous vos paiements entrants et sortants</p>
                        </div>
                        <button class="add-account-btn">
                            <i class="fas fa-plus me-2"></i>
                            Nouvelle operation
                        </button>
                    </div>
                </div>

                <!-- Search and Filter Bar -->
                <div class="search-filter-bar" style="margin-top:20px;width:1225px;margin-left: -20px;">
                    <div class="row g-3">
                        <div class="col-md-3">
                            <label for="searchInput" class="form-label">Rechercher</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-search"></i></span>
                                <input type="text" class="form-control" id="searchInput" placeholder="Référence, entreprise...">
                            </div>
                        </div>
                        <div class="col-md-2">
                            <label for="statusFilter" class="form-label">Statut</label>
                            <select class="form-select" id="statusFilter">
                                <option value="">Tous les statuts</option>
                                <option value="pending">En attente</option>
                                <option value="reconciled">Réconcilié</option>
                                <option value="partial">Partiel</option>
                                <option value="error">Écart</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label for="typeFilter" class="form-label">Type</label>
                            <select class="form-select" id="typeFilter">
                                <option value="">Tous les types</option>
                                <option value="incoming">Entrant</option>
                                <option value="outgoing">Sortant</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label for="dateFrom" class="form-label">Date début</label>
                            <input type="date" class="form-control" id="dateFrom">
                        </div>
                        <div class="col-md-2">
                            <label for="dateTo" class="form-label">Date fin</label>
                            <input type="date" class="form-control" id="dateTo">
                        </div>
                        <div class="col-md-1 d-flex align-items-end">
                            <button class="btn btn-outline-secondary w-100" id="clearFilters">
                                <i class="fas fa-times-circle"></i>
                            </button>
                        </div>
                    </div>
                </div>
            <div class="table-responsive" style="width:1225px;margin-left: -20px;">
                    <table class="table table-hover table-custom">
                      <thead style="background-color: #d6e3e8a1;">
                            <tr>
                        <th style="color: #09337be9;">DATE OPERATION</th>
                        <th style="color: #09337be9;">NUMERO CHEQUE</th>
                    <th style="color: #09337be9;">Débit</th>
                         <th style="color: #09337be9;">Crédit</th>
                    
                       <th style="color: #09337be9;">SOLDE</th>
                       <th style="color: #09337be9;">ACTION</th>
                      
                    </tr>
                </thead>
                  <tbody>
                            <tr *ngFor="let op of operations">
                                <td>{{op.dateOperation | date:'dd/MM/yyyy'}}</td>
                                <td>
                                    <span class="badge bg-light text-dark">{{op.numCheque || 'N/A'}}</span>
                                </td>
                                <td class="debit">{{op.debit ? (op.debit + ' TND') : '-'}}</td>
                                <td class="credit">{{op.credit ? (op.credit + ' TND') : '-'}}</td>
                                <td class="solde">{{op.solde}} TND</td>
                                <td>
                                    <button class="btn btn-sm btn-outline-primary me-2" title="Détails">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-success" title="Rapprocher">
                                        <i class="fas fa-link"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
            </table>

      
        </div>
    </div>

   

    <script>
        // Script pour gérer l'ouverture/fermeture de la modal
        document.querySelector('.action-button').addEventListener('click', function() {
            document.getElementById('reconciliationModal').classList.add('show');
        });

        document.querySelector('.modal-backdrop').addEventListener('click', function() {
            document.getElementById('reconciliationModal').classList.remove('show');
        });

        document.querySelector('.btn-secondary').addEventListener('click', function() {
            document.getElementById('reconciliationModal').classList.remove('show');
        });

        document.getElementById('reconciliationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            // Ici vous ajouteriez la logique pour traiter le rapprochement
            alert('Rapprochement effectué avec succès!');
            document.getElementById('reconciliationModal').classList.remove('show');
        });
    </script>



            